{"version":3,"file":"js/802.cb34bb02.js","mappings":"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","sources":["webpack://vue_test_cmd/./src/views/ProductView.vue","webpack://vue_test_cmd/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n        <main>\n            <header>\n                search: <input type=\"text\" v-model=\"search\"><br>\n                $<input type=\"number\" v-model=\"min\">-<input type=\"number\" v-model=\"max\">\n            </header>\n            <template v-if=\"load\">loading...</template>\n            <template v-else>\n                <div class=\"productContainer\">\n                    <div v-for=\"(item, index) in product\" :key=\"item.id\">\n                        <p>{{item.title}}</p>\n                        {{parseRating(item.rating)}}\n                        <img :src=\"item.image\" v-bind:alt=\"item.title\">\n                        <p>{{parsePrice(item.price)}}ÂÖÉ</p>\n                        <div>\n                            <button v-on:click=\"reduceCount(index, item)\">-</button>\n                            <input type=\"number\" min=\"0\" v-model=\"count[index]\">\n                            <button @click=\"addCount(index, item)\">+</button>\n                        </div>\n                    </div>\n                </div>\n            </template>\n        </main>\n        <aside>\n            Ë®ÇÂñÆ\n            <ul>\n                <li v-for=\"(item, index) in order\" :key=\"item.id\">\n                    {{index}}-{{item.titel}}: {{item.count}}\n                </li>\n            </ul>\n            <p>Á∏ΩÂÉπÔºö{{total}}ÂÖÉ</p>\n        </aside>\n    </div>\n</template>\n\n    <script>\n\n          export default {\n \n              data() {\n                  return {\n                      load: false,\n                      source: [],\n                      sourceCount: 0,\n                      order: [],\n                      // product: [],\n                      count: [],\n                      search: '',\n                      min: 0,\n                      max: 0,\n                  }\n              },\n              computed: {\n                  product() {\n                      let cache = this.source\n                      if (this.min > 0) { //ÁØ©ÈÅ∏ÊúÄÂ∞èÂÉπÈå¢\n                          cache = cache.filter((item, index) => {\n                              return item.price > this.min\n                          })\n                      }\n                      if (this.max > 0) { //ÁØ©ÈÅ∏ÊúÄÂ§ßÂÉπÈå¢\n                          cache = cache.filter(item => {\n                              return item.price < this.max\n                          })\n                      }\n                      if (this.search !== '') { //ÁØ©ÈÅ∏Áõ∏Á¨¶Ê®ôÈ°å\n                          cache = cache.filter(item => {\n                              return item.title.includes(this.search)\n                          })\n                      }\n                      return cache\n                  },\n                  total() {\n                      let total = 0\n                      for (const countIndex in this.product) {\n                          total += this.count[countIndex] * this.product[countIndex]['price']\n                      }\n                      return parseInt(total)\n                  }\n              },\n              watch: {\n                  //Áõ£ËÅΩdataÊàñcomputed\n                  total: {\n                      handler: function (newVal, oldVal) {\n                          if (newVal > 1000) {\n                              alert('‰Ω†Ë¶ÅÈ§ìÊ≠ª‰∫Ü')\n                          }\n                      }\n                  }\n              },\n              methods: {\n                  parseRating(rating) {\n                      if (!rating) return null\n                      let starStr = ''\n                      const star = parseInt(rating.rate)\n                      for (let index = 0; index < star; index++) {\n                          starStr += 'üåü'\n                      }\n                      return `${starStr}${rating.count}`\n                  },\n                  parsePrice(price) {\n                      return `TWD ${price*33}`\n                  },\n                  getResource() {\n                      this.load = true\n                      fetch('https://fakestoreapi.com/products/')\n                          .then(res => res.json())\n                          .then(json => {\n                              this.source = json\n                              //ÂàùÂßãÂåñÂïÜÂìÅÊï∏Èáè\n                              for (item in this.product) {\n                                  this.count.push(0)\n                              }\n                              this.load = false\n                              this.sourceCount = this.source.length\n                              // console.log('method:'+this.sourceCount);\n                          })\n                  },\n                  addCount(index, item) {\n                      this.count[index] += 1\n                      const prodIndex = this.order.findIndex(\n                          //Ë®ÇÂñÆË£°Èù¢ÊúâÊ≤íÊúâ(orderItem)Â≠òÂú®Êñ∞Â¢ûÁöÑÂïÜÂìÅ(item)    \n                          orderItem => orderItem.id === item.id\n                      )\n                      if (prodIndex >=0 ) {\n                          //Â¶ÇÊûúË®ÇÂñÆË£°Èù¢ÊúâÈÄôÂÄãÂïÜÂìÅÔºåÂ∞±Â∞áÂêåid ÁöÑÂïÜÂìÅÂ¢ûÂä†Êï∏Èáècount\n                          // ÂèñË®ÇÂñÆÂïÜÂìÅÁöÑÈ†ÜÂ∫è\n                          // const prodIndex = this.order.findIndex(\n                          //Ë®ÇÂñÆË£°Èù¢ÊúâÊ≤íÊúâ(orderItem)Â≠òÂú®Êñ∞Â¢ûÁöÑÂïÜÂìÅ(item) \n                          // orderItem => orderItem.id === item.id\n                      // )\n                          this.order[prodIndex]['count'] += 1\n                      } else {\n                          //Â¶ÇÊûúË®ÇÂñÆË£°Èù¢Ê≤íÊúâÈÄôÂÄãÂïÜÂìÅÔºåÂ∞±Êñ∞Â¢û‰∏ÄÂÄãË®ÇÂñÆÂïÜÂìÅ\n                          this.order.push({\n                              id: item.id,\n                              title: item.title,\n                              price: item.price,\n                              count: 1\n                          })\n                      }\n                      this.setStorage()\n                  },\n                  reduceCount(index, item) {\n                      if (this.count[index] <= 0) return\n                      this.count[index] -= 1\n                      const prodIndex = this.order.findIndex(orderItem =>{\n                          return orderItem.id === item.id\n                      })\n                      if(prodIndex < 0) return\n                      if(this.order[prodIndex]['count'] > 1){\n                          this.order[prodIndex]['count'] -= 1\n  \n                      }else {\n                          this.order.splice(prodIndex, 1)\n                      }\n                      this.setStorage()\n                  },\n                  getStorage(){\n  \n                      let data = localStorage.getItem('turtleShope')\n                      data = JSON.parse(data)\n                      this.order = data? data: []\n                  },\n                  setStorage(){\n                      const data = JSON.stringify(this.order)\n                      localStorage.setItem('turtleShop', data)\n                  }\n              },\n              created() {\n                  // console.log('created:'+this.source.length);\n                  // this.getResource()\n              },\n              mounted() {\n                  this.getResource()\n                  this.setStorage()\n                  this.sourceCount = this.source.length\n                  // console.log('mounted:'+this.sourceCount);\n              },\n              beforeUnmount() {\n                  // alert('beforeUnmount')\n                  // console.log('beforeUnmount');\n              }\n\n\n}\n\n\n            \n\n    </script>\n\n    <style>\n    .wrapper {\n        width: 100%;\n        height: 80vh;\n    }\n\n    main {\n        display: inline-block;\n        width: calc(100vw - 21rem);\n        overflow: scroll;\n    }\n\n    aside {\n        display: inline-block;\n        width: 20rem;\n        vertical-align: top;\n    }\n\n    .productContainer {\n        display: inline-flex;\n    }\n\n    img {\n        height: 5rem;\n    }\n</style>","import { render } from \"./ProductView.vue?vue&type=template&id=0746534c\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=0746534c&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Tibame_T14\\\\Desktop\\\\vueTest.github.io\\\\vue_test_cmd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","type","$data","_hoisted_2","_Fragment","key","_hoisted_3","$options","item","index","id","title","rating","src","image","alt","price","onClick","min","titel","count","data","load","source","sourceCount","order","search","max","computed","product","cache","this","filter","includes","total","countIndex","parseInt","watch","handler","newVal","oldVal","alert","methods","parseRating","starStr","star","rate","parsePrice","getResource","fetch","then","res","json","push","length","addCount","prodIndex","findIndex","orderItem","setStorage","reduceCount","splice","getStorage","localStorage","getItem","JSON","parse","stringify","setItem","created","mounted","beforeUnmount","__exports__","render"],"sourceRoot":""}